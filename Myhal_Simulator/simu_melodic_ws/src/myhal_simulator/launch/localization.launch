<?xml version="1.0"?>
<launch>

  <arg name="filter" default="false" />
  <arg name="loc_method" default="0" />
  <arg name="map_file" default="$(find jackal_velodyne)/maps/myhal_map_V3.yaml"/>
  <arg name="gt_classify" default="true" />


  <include file="$(find jackal_velodyne)/launch/include/pointcloud_filter2.launch">
    <arg name="filter" value="$(arg filter)" />
    <arg name="loc_method" value="$(arg loc_method)" />
    <arg name="gt_classify" value="$(arg gt_classify)" />
  </include>

  <group if="$(eval arg('loc_method')==0)">
    <include file="$(find jackal_velodyne)/launch/include/gmapping.launch"/>
  </group>

  <group if="$(eval arg('loc_method')==1)">
    <node name="map_server" pkg="map_server" type="map_server" args="$(arg map_file)" />
     <include file="$(find jackal_velodyne)/launch/include/amcl.launch" />
  </group>

  <group if="$(eval arg('loc_method')==2)">
    <include file="$(find jackal_velodyne)/launch/include/point_slam.launch">
      <arg name="filter" value="$(arg filter)" />
      <arg name="gt_classify" value="$(arg gt_classify)" />
    </include>
  </group>
  
</launch>
